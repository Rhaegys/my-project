





interface ProcessData 
{
    public function index()
    {
        $httpClient = new NativeHttpClient();
        $response = $httpClient->request('GET', 'https://www.alphavantage.co/query?function=MIDPOINT&symbol=AAPL&interval=monthly&time_period=2&series_type=close&apikey=OR6OO04TI84ZWN3Z');
        //$response = $httpClient->request('GET', 'https://api.worldtradingdata.com/api/v1/history?symbol=AAPL&sort=newest&api_token=WD4v4Hl3kEwTgHjK6LRkJWcZVVOH7D4i2TTRGNjNlAKw0u7ZJHZIrMZ6nUNW');
        
        $contents = $response->getContent();
        $data = json_decode($contents, true);
        $data1=$data['Technical Analysis: MIDPOINT'];
        
        $data2=array_values($data)[1];
        foreach ($data2 as $key => $value) {
            # code...            
            print_r($key );
        }

        return $this->render('process_data/index.html.twig', [
            'controller_name' => 'ProcessDataController',
            'data' => $contents,
        ]);
    }
}
